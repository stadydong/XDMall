"use strict";(self["webpackChunkvue2_view"]=self["webpackChunkvue2_view"]||[]).push([[92],{92:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-list"},[s("h2",{staticClass:"text-2xl pl-4 py-4 bg-zinc-150 mb-0"},[t._v("我的订单")]),s("div",{staticClass:"content"},[s("table",{staticClass:"w-full"},[s("tbody",t._l(t.orderListInfo.orderList,(function(e){return s("tr",{key:e.id},[s("table",{staticClass:"w-full"},[t._m(0,!0),t._l(e.orderListItem,(function(r){return s("tr",{key:r.id,staticClass:"border-b last:border-b-0"},[s("td",{staticClass:"flex items-center w-full"},[s("img",{staticClass:"w-20 h-20 mx-4 my-4",attrs:{src:r.product.productImageUrl,alt:r.product.title}}),s("span",[t._v(t._s(r.product.title))])]),s("td",{staticClass:"w-20"},[t._v(" "+t._s(r.product.price)+" ")]),s("td",{staticClass:"w-20"},[t._v(" "+t._s(r.num)+" ")]),s("td",{staticClass:"w-32"},[t._v(" "+t._s(e.order_status)+" ")]),s("td",{staticClass:"w-24 group"},[s("button",{staticClass:"bg-blue-600 text-white px-3 py-2 hidden group-hover:block",on:{click:function(s){return t.DeleteOrderList(e.id)}}},[t._v("删除订单")])])])}))],2)])})),0)]),s("div",{staticClass:"flex py-4 justify-center"},[s("a-pagination",{attrs:{total:t.orderListInfo.count,defaultPageSize:t.take},model:{value:t.current,callback:function(s){t.current=s},expression:"current"}})],1)])])},a=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",{staticClass:"bg-zinc-300 h-10 border"},[s("th",{staticClass:"pl-4"},[t._v("商品信息")]),s("th",[t._v("单价")]),s("th",[t._v("数量")]),s("th",[t._v("状态")]),s("th",[t._v("操作")])])])}],i=e(2619);const c=(t,s,e)=>i.Z.get(`/order-list/${t}`,{data:{skip:s,take:e}}),o=t=>i.Z["delete"](`/order-list/${t}`);var n={data(){return{orderListInfo:{orderList:[],count:0},current:1,take:10}},created(){this.getOrderListInfo()},methods:{async getOrderListInfo(){const t=JSON.parse(localStorage.getItem("userInfo")).id,s=await c(t);s.success&&(this.orderListInfo.orderList=s.data.orderList,this.orderListInfo.count=s.data.count,console.log(this.orderListInfo))},async DeleteOrderList(t){const s=await o(t);s.success&&(this.$message.success(s.data.message),this.getOrderListInfo())}}},l=n,d=e(1001),u=(0,d.Z)(l,r,a,!1,null,"f1069358",null),f=u.exports}}]);